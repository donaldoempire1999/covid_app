{% extends './base.html' %}
{% load static %}

{% block Title %} Map's Time !! {% endblock %}

{% block pageContentRow %}

      <div id="map" style="width: 100%;height: 800px">
      Attention voici ma map
      </div>

{% endblock %}


{% block ScriptBottom  %}

    {{ block.super }}

    <script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.1.0/mapbox-gl-directions.js"></script>

    <link
        rel="stylesheet"
        href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.1.0/mapbox-gl-directions.css"
        type="text/css"
        />

    <script type="text/javascript">

       mapboxgl.accessToken = 'pk.eyJ1IjoiZG9uYWxkbzIwMTkiLCJhIjoiY2tpdDJ2aHpsMHFubTJ4c2NiYzNsZjhhbyJ9.85r_tQknaCT-vcwrmage8w';
       var map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/streets-v11',
           center: [-96, 37.8], // starting position
           zoom: 3 // starting zoom
    });

               // Add geolocate control to the map.
        map.addControl(
            new mapboxgl.GeolocateControl({
            positionOptions: {
            enableHighAccuracy: true
            },
            trackUserLocation: true
            })
        );

        map.addControl(
        new MapboxDirections({
        accessToken: mapboxgl.accessToken
        }),
        'top-left'
        );


    </script>

{% endblock %}

